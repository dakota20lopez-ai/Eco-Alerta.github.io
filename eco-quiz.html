<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ECO-ALERTA - Eco-Quiz</title>
<style>
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    color: #fff;
    background-color: #000;
    background-image: url('portada.jpg');
    background-size: cover;
    background-attachment: fixed;
    background-position: center;
}
.main-overlay {
    background-color: rgba(0, 0, 0, 0.7);
    min-height: 100vh;
    padding-bottom: 50px;
}
header {
    text-align: center;
    padding: 20px 0;
    border-bottom: 2px solid #1ba158;
}
header h1 {
    color: #7CFC00;
    font-size: 3em;
    margin: 0;
    text-shadow: 0 0 10px rgba(124, 252, 0, 0.5);
}
nav.main-menu {
    display: flex;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.8);
    padding: 10px 0;
}
nav.main-menu a {
    color: #76c893;
    text-decoration: none;
    padding: 10px 15px;
    margin: 0 5px;
    font-weight: bold;
    transition: color 0.3s, background-color 0.3s;
    border-bottom: 2px solid transparent;
}
nav.main-menu a:hover,
nav.main-menu a:focus {
    color: #76c893;
    border-bottom: 2px solid #7CFC00;
}
nav.main-menu a.active {
    color: #7CFC00;
    border-bottom: 2px solid #7CFC00;
}
.content-wrapper {
    max-width: 950px;
    margin: 30px auto;
    padding: 0 20px;
}
#ecoDidactico {
    background: rgba(0,0,0,0.6);
    border-radius:15px;
    padding:30px;
    margin:30px 0;
    box-shadow:0 4px 20px rgba(0,0,0,0.4);
    color:#76c893;
    border: 2px solid #1ba158;
}
#ecoDidactico h2 {
    text-align:center;
    color:#7CFC00;
    font-size:28px;
    margin-bottom:10px;
    border-bottom: 2px solid #7CFC00;
    padding-bottom: 10px;
}
#ecoDidactico nav button {
    background:#1ba158;
    color:white;
    border:none;
    border-radius:5px;
    padding:10px 18px;
    cursor:pointer;
    font-weight:bold;
    transition: background 0.3s, transform 0.2s;
}
#ecoDidactico nav button:hover {
    background:#7CFC00;
    color:#000;
    transform: scale(1.05);
}
.activeDid {
    display:none;
    padding: 15px;
    border: 1px dashed #7CFC00;
    border-radius: 10px;
}
.quiz-option {
    margin:5px 8px;
    padding:10px 20px;
    border:none;
    border-radius:5px;
    background:#1ba158;
    color:white;
    cursor:pointer;
    font-weight:bold;
    transition: background 0.2s, transform 0.1s;
}
.quiz-option:hover {
    transform: scale(1.05);
    box-shadow: 0 0 10px #7CFC00;
}
</style>
</head>
<body>
<div class="main-overlay">

<header>
    <h1 style=" color:#76c893;">ECO-ALERTA</h1>
</header>

<nav class="main-menu">
    <a href="inicio.html">Inicio</a>
    <a href="danos.html">Da√±os Ambientales</a>
    <a href="estadisticas.html">Estad√≠sticas</a>
    <a href="prevenciones.html">Prevenciones</a>
    <a href="eco-tips.html">Eco-Tips</a>
    <a href="#" class="active">Eco-Quiz</a>
    <a href="noticias.html">Noticias</a>
    <a href="galeria.html">Galer√≠a</a>
    <a href="contacto.html">Cont√°ctanos</a>
</nav>

<div class="content-wrapper" id="eco-quiz">

    <!-- Secci√≥n Did√°ctica -->
    <section id="ecoDidactico">
        <h2>üå± Contenido Did√°ctico: Aprende y Juega</h2>
        <p style="text-align:center; margin-bottom:25px; color: #ccc;">Pon a prueba tus conocimientos ambientales con nuestros desaf√≠os interactivos.</p>

        <nav style="display:flex; justify-content:center; flex-wrap:wrap; gap:15px; margin-bottom:30px;">
            <button onclick="showSection('quizDid')">üåç Desaf√≠o Verde</button>
            <button onclick="showSection('puzzleDid')">üß© EcoPuzzle</button>
            <button onclick="showSection('videoDid')">üé• La Voz del Bosque</button>
            <button onclick="showSection('crosswordDid')">‚úèÔ∏è Palabras Verdes</button>
        </nav>

        <!-- Quiz -->
        <div id="quizDid" class="activeDid"></div>

        <!-- Puzzle -->
        <div id="puzzleDid" class="activeDid">
            <h3 style="color:#7CFC00; margin-top:0;">üß© EcoPuzzle (8x8)</h3>
            <div id="puzzleBoardDid" style="display:grid; grid-template-columns: repeat(8, 60px); gap:4px; justify-content:center; margin-top:20px;"></div>
        </div>

        <!-- Video -->
        <div id="videoDid" class="activeDid">
            <h3 style="color:#7CFC00; margin-top:0;">üé• El Hombre que destruye el Medio Ambiente</h3>
            <video width="100%" controls style="border-radius:10px; margin-top:15px; max-height: 400px; background: #000;">
                <source src="eco-quiz/Elhombre.mp4" type="video/mp4">
            </video>
	<p> No destruyas el Medio Ambiente, cuidalo </p>
            <h3 style="color:#7CFC00; margin-top:0;">üé• Olvidado</h3>
            <video width="100%" controls style="border-radius:10px; margin-top:15px; max-height: 400px; background: #000;">
                <source src="eco-quiz/olvidado.mp4" type="video/mp4">
            </video>
	<p> Una peque√±a accion demuestra que no te olvidaste del planeta </p>
 <h3 style="color:#7CFC00; margin-top:0;">üé•  Un cortometraje con George Lopez</h3>
            <video width="100%" controls style="border-radius:10px; margin-top:15px; max-height: 400px; background: #000;">
                <source src="eco-quiz/SaveRalph.mp4" type="video/mp4">
            </video>
	<p> Los animales no son para ser experimentos, protegelos y cuidalos </p>
 <h3 style="color:#7CFC00; margin-top:0;">üé• LEMON</h3>
            <video width="100%" controls style="border-radius:10px; margin-top:15px; max-height: 400px; background: #000;">
                <source src="eco-quiz/lemon.mp4" type="video/mp4">
            </video>
	<p> Cuida al Medio Ambiente </p>
        </div>

      <!-- Crucigrama -->
<div id="crosswordDid" class="activeDid" style="text-align:center;">
  <h3 style="color:#7CFC00;">üß© Crucigrama Ecol√≥gico</h3>
  <p id="cwQuestionDid"></p>
  <div id="cwInputsDid" style="margin:10px;"></div>
  <button onclick="checkCrosswordDid()">Comprobar</button>
  <p id="cwResultDid" style="margin-top:10px;"></p>
</div>

    </section>

</div>
</div>

<script>
// Control de subsecciones
function showSection(id){
    document.querySelectorAll('.activeDid').forEach(s => s.style.display='none');
    document.getElementById(id).style.display='block';
    if(id === 'quizDid' && currentQDid === 0) showQuestionDid();
}

// Quiz
const questionsDid = [
    {q:"¬øCu√°l de estos es un gas de efecto invernadero?", a:["CO‚ÇÇ","N‚ÇÇ","O‚ÇÇ"], correct:"CO‚ÇÇ"},
    {q:"¬øQu√© reduce la contaminaci√≥n?", a:["Plantar √°rboles","Tirar basura","Quemar pl√°stico"], correct:"Plantar √°rboles"},
    {q:"El reciclaje es importante para...", a:["Reducir residuos","Contaminar m√°s","Ninguna"], correct:"Reducir residuos"},
    {q:"El cambio clim√°tico afecta a...", a:["El clima global","Solo a un pa√≠s","Nada"], correct:"El clima global"},
    {q:"Energ√≠a renovable viene de...", a:["Sol","Petr√≥leo","Carb√≥n"], correct:"Sol"},
    {q:"Un animal en peligro de extinci√≥n es...", a:["Tigre","Perro","Gato dom√©stico"], correct:"Tigre"},
    {q:"La deforestaci√≥n provoca...", a:["P√©rdida de biodiversidad","M√°s ox√≠geno","Menos erosi√≥n"], correct:"P√©rdida de biodiversidad"},
    {q:"El pl√°stico tarda en degradarse...", a:["Muchos a√±os","Un d√≠a","Una semana"], correct:"Muchos a√±os"},
    {q:"Los oc√©anos ayudan a...", a:["Regular el clima","Aumentar el calor","No tienen efecto"], correct:"Regular el clima"},
    {q:"Una acci√≥n ecol√≥gica diaria es...", a:["Usar bicicleta","Conducir solo","Tirar basura"], correct:"Usar bicicleta"}
];
let currentQDid=0;
let scoreDid=0; 

function showQuestionDid(){
    const q=questionsDid[currentQDid];
    const container = document.getElementById('quizDid');
    container.innerHTML=`<h3 style="color:#7CFC00;">üåç Desaf√≠o Verde (10 Preguntas)</h3>
    <p style="margin:15px 0; color:#ccc;">Pregunta ${currentQDid+1}/${questionsDid.length}: ${q.q}</p>` +
    q.a.map(opt=>`<button class="quiz-option" onclick="checkAnswerDid(this)">${opt}</button>`).join('') +
    `<p id="quizResultDid" style="font-weight:bold; margin-top:15px; text-align:center; font-size: 1.1em;"></p>`;
}

function checkAnswerDid(btn){
    document.querySelectorAll('#quizDid .quiz-option').forEach(b => {
        b.disabled = true;
        b.style.opacity = '0.7';
    });
    const q=questionsDid[currentQDid];
    if(btn.textContent===q.correct){
        btn.style.background='#7CFC00';
        btn.style.color='#000';
        scoreDid++; 
        document.getElementById('quizResultDid').textContent='‚úÖ Correcto! üéâ';
    } else{
        btn.style.background='#d9534f';
        document.querySelectorAll('#quizDid .quiz-option').forEach(b => {
            if(b.textContent === q.correct) {
                b.style.border = '2px solid #7CFC00';
                b.style.backgroundColor = 'rgba(124, 252, 0, 0.5)';
            }
        });
        document.getElementById('quizResultDid').textContent='‚ùå Incorrecto. La siguiente pregunta.';
    }
    currentQDid++; 
    if(currentQDid<questionsDid.length) setTimeout(showQuestionDid, 1500);
    else setTimeout(()=>document.getElementById('quizResultDid').textContent=`üéâ ¬°Quiz completado! Tu puntaje final es: ${scoreDid}/${questionsDid.length} üéâ`, 1000);
}

// Puzzle 8x8
const puzzleBoardDid = document.getElementById('puzzleBoardDid');
let firstPieceDid = null;
const puzzleImage = 'eco-quiz/puzzle.jpeg'; // tu imagen local
const rows = 8;
const cols = 8;
const pieceSize = 60; // tama√±o de cada pieza

// Creamos un array de posiciones
let positions = [];
for(let i=0; i<rows*cols; i++){
    positions.push(i);
}

// Mezclamos las posiciones para desordenar
positions.sort(() => Math.random() - 0.5);

for(let i=0; i<rows*cols; i++){
    const div = document.createElement('div');
    div.style.width = pieceSize + 'px';
    div.style.height = pieceSize + 'px';
    div.style.backgroundImage = `url('${puzzleImage}')`;
    div.style.backgroundSize = `${cols*pieceSize}px ${rows*pieceSize}px`;

    // Calculamos la posici√≥n de fondo de la pieza seg√∫n el array mezclado
    const pos = positions[i];
    const x = (pos % cols) * -pieceSize;
    const y = Math.floor(pos / cols) * -pieceSize;
    div.style.backgroundPosition = `${x}px ${y}px`;

    // Guardamos la posici√≥n correcta en dataset
    div.dataset.correct = i;
    div.dataset.current = pos;

    div.style.border='2px solid #033d1a';
    div.style.borderRadius='6px';
    div.style.cursor='pointer';

    div.addEventListener('click', () => {
        if(!firstPieceDid){
            firstPieceDid = div;
            div.style.border='3px solid #7CFC00';
        } else {
            // Intercambiamos los backgroundPosition
            let tempPos = firstPieceDid.style.backgroundPosition;
            firstPieceDid.style.backgroundPosition = div.style.backgroundPosition;
            div.style.backgroundPosition = tempPos;

            // Actualizamos dataset current
            let tempCurrent = firstPieceDid.dataset.current;
            firstPieceDid.dataset.current = div.dataset.current;
            div.dataset.current = tempCurrent;

            firstPieceDid.style.border='2px solid #033d1a';
            firstPieceDid = null;
        }
    });

    puzzleBoardDid.appendChild(div);
}

// Crucigrama
const crosswordWords = ['RIO','SOL','AGUA','BOSQUE','FLOR','HOJA','ANIMAL','PLANETA','CLIMA','VIDA'];
let currentCW = 0;

function showCrosswordQuestion() {
    const container = document.getElementById('cwInputsDid');
    container.innerHTML = ''; // Limpia cuadros anteriores

    if (currentCW >= crosswordWords.length) {
        document.getElementById('cwQuestionDid').textContent = 'üéâ ¬°Ganaste el crucigrama!';
        document.getElementById('cwResultDid').textContent = '';
        return;
    }

    const word = crosswordWords[currentCW];
    document.getElementById('cwQuestionDid').textContent = `Completa la palabra: ${word[0]}${'_'.repeat(word.length - 1)}`;
    
    // üîπ Crear din√°micamente los cuadros seg√∫n el largo de la palabra
    for (let i = 0; i < word.length; i++) {
        const input = document.createElement('input');
        input.type = 'text';
        input.maxLength = 1;
        input.id = `c${i}Did`;
        input.style.width = '30px';
        input.style.textAlign = 'center';
        input.style.margin = '3px';
        input.style.fontSize = '18px';
        container.appendChild(input);
    }
}

function checkCrosswordDid() {
    const word = crosswordWords[currentCW];
    let correct = true;

    for (let i = 0; i < word.length; i++) {
        const input = document.getElementById(`c${i}Did`);
        if (!input) continue;
        if (input.value.toUpperCase() !== word[i]) {
            input.style.border = '2px solid #d9534f';
            correct = false;
        } else {
            input.style.border = '2px solid #1ba158';
        }
    }

    if (correct) {
        document.getElementById('cwResultDid').textContent = '‚úÖ ¬°Correcto!';
        currentCW++;
        setTimeout(showCrosswordQuestion, 1000);
    } else {
        document.getElementById('cwResultDid').textContent = '‚ùå Intenta de nuevo';
    }
}

// üîπ Inicializaci√≥n
showCrosswordQuestion();


showSection('quizDid'); // Mostrar quiz al inicio
showCrosswordQuestion();

</script>
</body>
</html>

